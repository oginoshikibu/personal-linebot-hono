# LINE Bot 機能実装計画

## 修正・実装すべき機能

### 1. バグ修正: 予定登録時の無効なポストバックデータ問題
- [x] 問題の特定: 「今日の昼食」などを選択すると無効なポストバックデータの返信が来る
- [ ] `handleRegisterPostback` 関数のデバッグ
- [ ] `sendRegistrationOptions` 関数のデバッグ
- [ ] ポストバックデータの形式を修正
- [ ] 修正後のテスト

### 2. リッチメニュー実装
- [ ] リッチメニュー画像の作成
- [ ] リッチメニューの設定実装
  - [ ] リッチメニュー作成関数の実装
  - [ ] リッチメニューに画像をアップロード
  - [ ] リッチメニューをデフォルトとして設定
- [ ] 「予定の登録」「予定の確認」ボタンの実装
- [ ] リッチメニューのテスト

### 3. カレンダー機能の拡張
- [ ] 既存のカレンダー機能の調査
- [ ] 「今後の予定」メニュー項目の追加
- [ ] カレンダー表示機能の拡張
  - [ ] 複数月のカレンダー表示
  - [ ] 日付選択後の処理の実装
- [ ] カレンダーから選択した日付の予定登録・確認機能の実装
- [ ] カレンダー機能のテスト

## テスト計画

### バグ修正のテスト
- [ ] 「予定登録」→「今日の昼食」選択後、選択メニューが正しく表示されることを確認
- [ ] 選択メニューから選択後、正しく予定が登録されることを確認

### リッチメニューのテスト
- [ ] リッチメニューが正しく表示されることを確認
- [ ] 「予定の登録」ボタンで登録メニューが表示されることを確認
- [ ] 「予定の確認」ボタンで確認メニューが表示されることを確認

### カレンダー機能のテスト
- [ ] 「今後の予定」選択でカレンダーが表示されることを確認
- [ ] カレンダーから日付を選択できることを確認
- [ ] 選択した日付の予定登録・確認ができることを確認

## 実装手順

### 1. バグ修正
1. ポストバックデータの処理を確認し、問題箇所を特定
2. ポストバックデータの形式を修正
3. テストを実行して修正を確認

### 2. リッチメニュー実装
1. リッチメニュー作成用の関数を実装
2. リッチメニュー画像を作成・アップロード
3. リッチメニューをデフォルトとして設定
4. ボタンアクションを実装

### 3. カレンダー機能の拡張
1. メインメニューに「今後の予定」項目を追加
2. カレンダー表示機能を拡張
3. 日付選択後の処理を実装
4. テストを実行して機能を確認

## コミット計画

1. バグ修正: ポストバックデータの処理修正
2. リッチメニュー: 基本実装
3. リッチメニュー: ボタンアクション実装
4. カレンダー機能: メニュー項目追加
5. カレンダー機能: 日付選択処理の実装
6. テスト: 全機能の統合テスト 